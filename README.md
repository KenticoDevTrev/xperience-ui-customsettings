# xperience-ui-customsettings
UI Custom Settings enable developers to enhance the Channel section of Xperience by Kentico and incorporate custom channel-specific configurations.

## Requirements
* **Kentico.Xperience.Admin 29.4.0** or newer version to use latest Xperience by Kentico
* **net8.0** as a long-term support (LTS) release

## Download & Installation
1. Download source code
2. Include downloaded library into your project
    * Copy folder _EXLRT.Xperience.UI.ChannelCustomSettings_ into your project
    * Add as exsiting project in Visual Studio
    * Add project reference to main project
    * Rebuild solution
3. [Create a new module in Admin](#create-a-new-module-in-admin)
4. [Register DI](#register-di)

**NOTE:** You can always downgrade Xperience by Kentico package and .NET version to match your project for a reasonable amount.

### Create a new module in Admin

To create a new module in Xperience by Kentico, you should follow this [documentation](https://docs.kentico.com/developers-and-admins/customization/object-types). A new module should be created, called _Channel Custom Settings_ and under the namespace _Boilerplate_ (this all can be changed, but then you must autogenerate code again and replace it in your project). Following 4 fields should be created (as shown on image below):
* ChannelCustomSettingsID - autogenerated
* ChannelCustomSettingsKey - text field. It's important not to be set as UNIQUE on code file, since it can be used for multiple channels.
* ChannelCustomSettingsValue - long text field
* ChannelCustomSettingsChannelID - int field, a reference to the Channel object

![Image of channel custom settings module](https://github.com/drilic/xperience-ui-customsettings/blob/master/documentation/custom_module.png)


### Register DI

Method definition:
```csharp
void AddChannelCustomSettings(this IServiceCollection builder);
```
Example of configuration for DancingGoat site (Program.cs):
```csharp
using EXLRT.Xperience.UI.ChannelCustomSettings.Configuration;
...
// add this under the builder.Services.AddDancingGoatServices();
builder.Services.AddChannelCustomSettings();
```

### Summary
If everything is configured correctly, this is what should be shown under the channel details page

![Image of channel details page with settings](https://github.com/drilic/xperience-ui-customsettings/blob/master/documentation/settings_view.png)

To verify that settings were saved and fetched correctly, you can add this piece of the code in your project:

```csharp
// where channelCustomSettingsRepository is injected with DI pattern.
var notFoundURL = await this.channelCustomSettingsRepository.GetStringValueAsync("Pages.NotFoundURL");
```

## Contributions and Support
Feel free to fork and submit pull requests or report issues to contribute. Either this way or another one, we will look into them as soon as possible. 